import{d as p,u as I,c as g,w as s,a as e,I as k,b as t,Y as T,Z as d,f as h,ag as b,$ as x,p as B,a2 as w,r as C,g as v,o as n,ah as y,ae as A,W as N,j as P,k as S,_ as $}from"./index-BijrvoX3.js";import{I as j}from"./InfoInput-B7wV-c2-.js";import{d as D}from"./dayjs.min-CxMP4GVf.js";const O=p({__name:"AddTodoPage",setup(V){const i=I(),l=P(),u=C({id:"",date:"",time:"",content:"",check:!1}),f=async a=>{const o="".concat(a.date).concat(a.time),r=D(o).valueOf().toString(),c=i.uid;if(!c){n("請先登入","danger");return}try{await y(A(N,"todoList",c,a.date,r),{id:r,date:a.date,time:a.time,content:a.content,iso8601:a.iso8601,check:!1}),n("新增成功","success")}catch(m){n(m,"danger")}},_=()=>{l.push({name:"home"})};return(a,o)=>(S(),g(e(k),null,{default:s(()=>[t(e(w),{class:"ion-no-border"},{default:s(()=>[t(e(T),{class:"ion-toolbar"},{default:s(()=>[t(e(d),{slot:"start",class:"icon_area",onClick:_},{default:s(()=>[t(e(h),{class:"icon_area_img","aria-hidden":"true",size:"large",icon:e(b)},null,8,["icon"])]),_:1}),t(e(x),{class:"page_title"},{default:s(()=>[...o[0]||(o[0]=[B("新增項目",-1)])]),_:1}),t(e(d),{slot:"end",class:"icon_area"})]),_:1})]),_:1}),t(e(v),{fullscreen:!0,class:"page-content"},{default:s(()=>[t(j,{onAddTodo:f,"edit-todo":u.value},null,8,["edit-todo"])]),_:1})]),_:1}))}}),R=$(O,[["__scopeId","data-v-1ef201d2"]]);export{R as default};
