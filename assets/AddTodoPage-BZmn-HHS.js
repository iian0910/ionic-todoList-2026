import{d as p,u as I,c as g,w as s,a as e,I as k,b as t,H as T,J as d,f as b,a0 as h,K as x,p as B,N as w,r as C,g as N,o as n,a1 as v,Z as y,D as A,j as D,k as P,_ as S}from"./index-TM_tSvUV.js";import{I as j}from"./InfoInput-UTm2CNVY.js";import{d as H}from"./dayjs.min-CxMP4GVf.js";const O=p({__name:"AddTodoPage",setup(V){const i=I(),l=D(),u=C({id:"",date:"",time:"",content:"",check:!1}),f=async a=>{const o="".concat(a.date).concat(a.time),r=H(o).valueOf().toString(),c=i.uid;if(!c){n("請先登入","danger");return}try{await v(y(A,"todoList",c,a.date,r),{id:r,date:a.date,time:a.time,content:a.content,iso8601:a.iso8601,check:!1}),n("新增成功","success")}catch(m){n(m,"danger")}},_=()=>{l.push({name:"home"})};return(a,o)=>(P(),g(e(k),null,{default:s(()=>[t(e(w),{class:"ion-no-border"},{default:s(()=>[t(e(T),{class:"ion-toolbar"},{default:s(()=>[t(e(d),{slot:"start",class:"icon_area",onClick:_},{default:s(()=>[t(e(b),{class:"icon_area_img","aria-hidden":"true",size:"large",icon:e(h)},null,8,["icon"])]),_:1}),t(e(x),{class:"page_title"},{default:s(()=>[...o[0]||(o[0]=[B("新增項目",-1)])]),_:1}),t(e(d),{slot:"end",class:"icon_area"})]),_:1})]),_:1}),t(e(N),{fullscreen:!0,class:"page-content"},{default:s(()=>[t(j,{onAddTodo:f,"edit-todo":u.value},null,8,["edit-todo"])]),_:1})]),_:1}))}}),K=S(O,[["__scopeId","data-v-1ef201d2"]]);export{K as default};
