import{d as p,c as I,w as o,u as e,I as g,a as t,P as T,Q as d,h,a2 as k,e as b,f as x,T as B,r as w,i as C,j as P,o as v}from"./index-C1xXF2OV.js";import{I as y}from"./InfoInput-BJcTs40T.js";import{d as A}from"./dayjs.min-CxMP4GVf.js";import{u as N,o as n,k as S,h as j,d as D,_ as O}from"./_plugin-vue_export-helper-B9xEqKrl.js";const V=p({__name:"AddTodoPage",setup($){const i=N(),l=P(),u=w({id:"",date:"",time:"",content:"",check:!1}),f=async a=>{const s="".concat(a.date).concat(a.time),r=A(s).valueOf().toString(),c=i.uid;if(!c){n("請先登入","danger");return}try{await S(j(D,"todoList",c,a.date,r),{id:r,date:a.date,time:a.time,content:a.content,iso8601:a.iso8601,check:!1}),n("新增成功","success")}catch(_){n(_,"danger")}},m=()=>{l.push({name:"home"})};return(a,s)=>(v(),I(e(g),null,{default:o(()=>[t(e(B),{class:"ion-no-border"},{default:o(()=>[t(e(T),null,{default:o(()=>[t(e(d),{slot:"start",class:"icon_area",onClick:m},{default:o(()=>[t(e(h),{class:"icon_area_img","aria-hidden":"true",size:"large",icon:e(k)},null,8,["icon"])]),_:1}),t(e(b),{class:"page_title"},{default:o(()=>[...s[0]||(s[0]=[x("新增項目",-1)])]),_:1}),t(e(d),{slot:"end",class:"icon_area"})]),_:1})]),_:1}),t(e(C),{fullscreen:!0},{default:o(()=>[t(y,{onAddTodo:f,"edit-todo":u.value},null,8,["edit-todo"])]),_:1})]),_:1}))}}),R=O(V,[["__scopeId","data-v-b8c64768"]]);export{R as default};
