System.register(["./index-legacy-D_NWB0j9.js","./InfoInput-legacy-CKhvtBZR.js","./dayjs.min-legacy-B_dXnH5K.js"],function(e,a){"use strict";var t,d,n,o,c,s,i,l,u,r,v,_,g,p,f,m,h,b,y,x,j,k,w,I,C,L,z,E,P,T;return{setters:[e=>{t=e.d,d=e.u,n=e.A,o=e.v,c=e.r,s=e.c,i=e.w,l=e.a,u=e.I,r=e.o,v=e.G,_=e.H,g=e.C,p=e.B,f=e.D,m=e.b,h=e.K,b=e.L,y=e.f,x=e.a2,j=e.M,k=e.p,w=e.P,I=e.g,C=e.a1,L=e.a0,z=e.j,E=e.k,P=e._},e=>{T=e.I},null],execute:function(){var a=document.createElement("style");a.textContent=".icon_area[data-v-d83bab9e]{width:48px;height:48px}.icon_area_img[data-v-d83bab9e]{padding:8px}.page_title[data-v-d83bab9e]{text-align:center}.input_title[data-v-d83bab9e]{font-size:18px}\n/*$vite$:1*/",document.head.appendChild(a),e("default",P(t({__name:"EditTodoPage",setup(e){const a=z(),t=o(),P=d(),$=c({id:"",date:"",time:"",content:"",check:!1}),q=c(""),A=c(""),B=async e=>{const a=P.uid;if(a)try{const t=v(g(f,"todoList",a,"todos"),_("id","==",A.value)),d=await p(t);d.empty||await C(L(f,"todoList",a,"todos",d.docs[0].id),{...e}),r("新增成功","success"),D()}catch(t){r(t,"danger")}else r("請先登入","danger")},D=()=>{a.push({name:"home"})};return n(()=>{q.value=t.query.date,A.value=t.params.id,(async(e,a)=>{const t=P.uid;if(!t)return void r("請先登入","danger");const d=v(g(f,"todoList",t,"todos"),_("id","==",a));try{const e=await p(d);e.empty?r("資料不存在","danger"):($.value.id=e.docs[0].data().id,$.value.date=e.docs[0].data().date,$.value.time=e.docs[0].data().time,$.value.content=e.docs[0].data().content,$.value.check=e.docs[0].data().check)}catch(n){r(n,"danger")}})(q.value,A.value)}),(e,a)=>(E(),s(l(u),null,{default:i(()=>[m(l(w),{class:"ion-no-border"},{default:i(()=>[m(l(h),{class:"ion-toolbar"},{default:i(()=>[m(l(b),{slot:"start",class:"icon_area",onClick:D},{default:i(()=>[m(l(y),{class:"icon_area_img","aria-hidden":"true",size:"large",icon:l(x)},null,8,["icon"])]),_:1}),m(l(j),{class:"page_title"},{default:i(()=>[...a[0]||(a[0]=[k("編輯項目",-1)])]),_:1}),m(l(b),{slot:"end",class:"icon_area"})]),_:1})]),_:1}),m(l(I),{fullscreen:!0,class:"page-content"},{default:i(()=>[m(T,{onUpdateTodo:B,"edit-todo":$.value},null,8,["edit-todo"])]),_:1})]),_:1}))}}),[["__scopeId","data-v-d83bab9e"]]))}}});
