System.register(["./index-legacy-CQAeXA5n.js","./dayjs.min-legacy-B_dXnH5K.js","./_plugin-vue_export-helper-legacy-DfttsIEQ.js","./InfoInput-legacy-CJg9MYw6.js"],function(e,t){"use strict";var a,n,d,i,o,l,s,c,u,r,f,g,_,v,p,m,h,y,x,w,j,I,k,L,$,C,E,z,O;return{setters:[e=>{a=e.d,n=e.L,d=e.a3,i=e.r,o=e.c,l=e.w,s=e.u,c=e.I,u=e.a,r=e.N,f=e.Q,g=e.R,_=e.a2,v=e.O,p=e.f,m=e.M,h=e.g,y=e.h,x=e.o},e=>{w=e.d},e=>{j=e.u,I=e.o,k=e.h,L=e.d,$=e.l,C=e.k,E=e.f,z=e._},e=>{O=e.I}],execute:function(){var t=document.createElement("style");t.textContent=".icon_area[data-v-aff345f0]{width:48px;height:48px}.icon_area_img[data-v-aff345f0]{padding:8px}.page_title[data-v-aff345f0]{text-align:center}.input_title[data-v-aff345f0]{font-size:18px}\n/*$vite$:1*/",document.head.appendChild(t),e("default",z(a({__name:"EditTodoPage",setup(e){const t=y(),a=d(),z=j(),S=i({id:"",date:"",time:"",content:"",check:!1}),T=i(""),b=i(""),q=async e=>{const t=`${e.date}${e.time}`,a=w(t).valueOf().toString(),n=z.uid;if(n){await(async(e,t)=>{const a=z.uid;if(a)try{await E(k(L,"todoList",a,e,t))}catch(n){console.error("Error getting documents:",n)}else I("請先登入","danger")})(T.value,b.value);try{await C(k(L,"todoList",n,e.date,a),{id:a,date:e.date,time:e.time,content:e.content,iso8601:e.iso8601,check:!1}),I("新增成功","success"),M()}catch(d){I(d,"danger")}}else I("請先登入","danger")},M=()=>{t.push({name:"home"})};return n(()=>{T.value=a.query.date,b.value=a.params.id,(async(e,t)=>{const a=z.uid;if(a)try{const n=k(L,"todoList",a,e,t),d=await $(n);d.exists()?(S.value.id=d.data().id,S.value.date=d.data().date,S.value.time=d.data().time,S.value.content=d.data().content,S.value.iso8601=d.data().iso8601):I("資料不存在","danger")}catch(n){I(n,"danger")}else I("請先登入","danger")})(T.value,b.value)}),(e,t)=>(x(),o(s(c),null,{default:l(()=>[u(s(m),{class:"ion-no-border"},{default:l(()=>[u(s(r),null,{default:l(()=>[u(s(f),{slot:"start",class:"icon_area",onClick:M},{default:l(()=>[u(s(g),{class:"icon_area_img","aria-hidden":"true",size:"large",icon:s(_)},null,8,["icon"])]),_:1}),u(s(v),{class:"page_title"},{default:l(()=>[...t[0]||(t[0]=[p("編輯項目",-1)])]),_:1}),u(s(f),{slot:"end",class:"icon_area"})]),_:1})]),_:1}),u(s(h),{fullscreen:!0},{default:l(()=>[u(O,{onUpdateTodo:q,"edit-todo":S.value},null,8,["edit-todo"])]),_:1})]),_:1}))}}),[["__scopeId","data-v-aff345f0"]]))}}});
