System.register(["./index-legacy-Cg2yyoNX.js","./dayjs.min-legacy-B_dXnH5K.js","./InfoInput-legacy-Du3ABB2C.js"],function(a,e){"use strict";var t,d,n,i,c,o,s,l,r,u,g,v,_,f,m,p,h,y,x,w,j,I,$,k,b,C,E,L,T;return{setters:[a=>{t=a.d,d=a.u,n=a.T,i=a.v,c=a.r,o=a.c,s=a.w,l=a.a,r=a.I,u=a.o,g=a.ae,v=a.W,_=a.ai,f=a.b,m=a.Y,p=a.Z,h=a.f,y=a.ag,x=a.$,w=a.p,j=a.a2,I=a.g,$=a.ah,k=a.j,b=a.ad,C=a.k,E=a._},a=>{L=a.d},a=>{T=a.I}],execute:function(){var e=document.createElement("style");e.textContent=".icon_area[data-v-caa456da]{width:48px;height:48px}.icon_area_img[data-v-caa456da]{padding:8px}.page_title[data-v-caa456da]{text-align:center}.input_title[data-v-caa456da]{font-size:18px}\n/*$vite$:1*/",document.head.appendChild(e),a("default",E(t({__name:"EditTodoPage",setup(a){const e=k(),t=i(),E=d(),z=c({id:"",date:"",time:"",content:"",check:!1}),S=c(""),q=c(""),O=async a=>{const e=`${a.date}${a.time}`,t=L(e).valueOf().toString(),d=E.uid;if(d){await(async(a,e)=>{const t=E.uid;if(t)try{await b(g(v,"todoList",t,a,e))}catch(d){console.error("Error getting documents:",d)}else u("請先登入","danger")})(S.value,q.value);try{await $(g(v,"todoList",d,a.date,t),{id:t,date:a.date,time:a.time,content:a.content,iso8601:a.iso8601,check:!1}),u("新增成功","success"),P()}catch(n){u(n,"danger")}}else u("請先登入","danger")},P=()=>{e.push({name:"home"})};return n(()=>{S.value=t.query.date,q.value=t.params.id,(async(a,e)=>{const t=E.uid;if(t)try{const d=g(v,"todoList",t,a,e),n=await _(d);n.exists()?(z.value.id=n.data().id,z.value.date=n.data().date,z.value.time=n.data().time,z.value.content=n.data().content,z.value.iso8601=n.data().iso8601):u("資料不存在","danger")}catch(d){u(d,"danger")}else u("請先登入","danger")})(S.value,q.value)}),(a,e)=>(C(),o(l(r),null,{default:s(()=>[f(l(j),{class:"ion-no-border"},{default:s(()=>[f(l(m),{class:"ion-toolbar"},{default:s(()=>[f(l(p),{slot:"start",class:"icon_area",onClick:P},{default:s(()=>[f(l(h),{class:"icon_area_img","aria-hidden":"true",size:"large",icon:l(y)},null,8,["icon"])]),_:1}),f(l(x),{class:"page_title"},{default:s(()=>[...e[0]||(e[0]=[w("編輯項目",-1)])]),_:1}),f(l(p),{slot:"end",class:"icon_area"})]),_:1})]),_:1}),f(l(I),{fullscreen:!0,class:"page-content"},{default:s(()=>[f(T,{onUpdateTodo:O,"edit-todo":z.value},null,8,["edit-todo"])]),_:1})]),_:1}))}}),[["__scopeId","data-v-caa456da"]]))}}});
