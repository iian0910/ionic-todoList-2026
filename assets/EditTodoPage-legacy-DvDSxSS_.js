System.register(["./index-legacy-CNydsU4G.js","./dayjs.min-legacy-B_dXnH5K.js","./_plugin-vue_export-helper-legacy-EONQxhfF.js","./InfoInput-legacy-BzdaePbs.js"],function(e,t){"use strict";var a,n,d,i,o,l,s,c,u,r,f,g,_,v,p,m,h,y,x,j,w,I,k,$,C,E,L,T,z;return{setters:[e=>{a=e.d,n=e.O,d=e.a3,i=e.r,o=e.c,l=e.w,s=e.u,c=e.I,u=e.a,r=e.P,f=e.Q,g=e.h,_=e.a2,v=e.e,p=e.f,m=e.T,h=e.i,y=e.j,x=e.o},e=>{j=e.d},e=>{w=e.u,I=e.o,k=e.h,$=e.d,C=e.l,E=e.k,L=e.f,T=e._},e=>{z=e.I}],execute:function(){var t=document.createElement("style");t.textContent=".icon_area[data-v-aff345f0]{width:48px;height:48px}.icon_area_img[data-v-aff345f0]{padding:8px}.page_title[data-v-aff345f0]{text-align:center}.input_title[data-v-aff345f0]{font-size:18px}\n/*$vite$:1*/",document.head.appendChild(t),e("default",T(a({__name:"EditTodoPage",setup(e){const t=y(),a=d(),T=w(),O=i({id:"",date:"",time:"",content:"",check:!1}),P=i(""),S=i(""),b=async e=>{const t=`${e.date}${e.time}`,a=j(t).valueOf().toString(),n=T.uid;if(n){await(async(e,t)=>{const a=T.uid;if(a)try{await L(k($,"todoList",a,e,t))}catch(n){console.error("Error getting documents:",n)}else I("請先登入","danger")})(P.value,S.value);try{await E(k($,"todoList",n,e.date,a),{id:a,date:e.date,time:e.time,content:e.content,iso8601:e.iso8601,check:!1}),I("新增成功","success"),q()}catch(d){I(d,"danger")}}else I("請先登入","danger")},q=()=>{t.push({name:"home"})};return n(()=>{P.value=a.query.date,S.value=a.params.id,(async(e,t)=>{const a=T.uid;if(a)try{const n=k($,"todoList",a,e,t),d=await C(n);d.exists()?(O.value.id=d.data().id,O.value.date=d.data().date,O.value.time=d.data().time,O.value.content=d.data().content,O.value.iso8601=d.data().iso8601):I("資料不存在","danger")}catch(n){I(n,"danger")}else I("請先登入","danger")})(P.value,S.value)}),(e,t)=>(x(),o(s(c),null,{default:l(()=>[u(s(m),{class:"ion-no-border"},{default:l(()=>[u(s(r),null,{default:l(()=>[u(s(f),{slot:"start",class:"icon_area",onClick:q},{default:l(()=>[u(s(g),{class:"icon_area_img","aria-hidden":"true",size:"large",icon:s(_)},null,8,["icon"])]),_:1}),u(s(v),{class:"page_title"},{default:l(()=>[...t[0]||(t[0]=[p("編輯項目",-1)])]),_:1}),u(s(f),{slot:"end",class:"icon_area"})]),_:1})]),_:1}),u(s(h),{fullscreen:!0},{default:l(()=>[u(z,{onUpdateTodo:b,"edit-todo":O.value},null,8,["edit-todo"])]),_:1})]),_:1}))}}),[["__scopeId","data-v-aff345f0"]]))}}});
