import{d as O,a4 as S,j as U,b as u,a as n,u as s,a5 as p,r as m,a6 as g,w as d,g as D,a7 as T,N as j,Q as E,e as $,f as Q,t as q,a8 as z,o as A}from"./index-BjSP4vXz.js";import{d as o}from"./dayjs.min-CxMP4GVf.js";import{_ as F}from"./_plugin-vue_export-helper-Bhnf57Ro.js";const G={class:"ion-padding"},J={class:"ion-margin-bottom"},K={class:"ion-margin-top"},L={class:"ion-margin-bottom"},P={class:"ion-margin-top"},R={class:"ion-margin-bottom"},W=O({__name:"InfoInput",props:{editTodo:{}},emits:["addTodo","updateTodo"],setup(M,{emit:b}){const _=M,I=b,l=m(""),i=m(""),r=m(!1),f=m(!1),t=m({id:"",date:"",time:"",content:"",check:!1}),c=z(()=>{var a;return((a=_.editTodo)==null?void 0:a.id)!==""});S(()=>_.editTodo,a=>{if(c.value&&(t.value={id:a==null?void 0:a.id,date:a.date,time:a.time,content:a.content,check:a.check,iso8601:a.iso8601},a.date&&(l.value=o(a.date).format()),a.time)){const e="".concat(a.date," ").concat(a.time);i.value=o(e).format()}},{deep:!0,immediate:!0});const k=()=>{l.value?l.value=o(l.value).format():l.value=o(new Date).format(),t.value.iso8601=l.value,t.value.date=o(l.value).format("YYYY-MM-DD"),r.value=!0},h=()=>{r.value=!1,l.value?l.value=o(l.value).format():l.value=o(new Date).format()},C=()=>{i.value?i.value=o(i.value).format():i.value=o(new Date).format(),t.value.iso8601=i.value,t.value.time=o(i.value).format("HH:mm"),f.value=!0},Y=()=>{f.value=!1,i.value?i.value=o(i.value).format():i.value=o(new Date).format()},y=a=>{const e=a.detail.value;e&&(l.value=o(e).format(),t.value.iso8601=l.value,t.value.date=o(e).format("YYYY-MM-DD"))},x=a=>{const e=a.detail.value;e&&(i.value=o(e).format(),t.value.iso8601=i.value,t.value.time=o(e).format("HH:mm"))},B=()=>{I("addTodo",t.value),t.value={id:"",date:"",time:"",content:"",check:!1}},H=()=>{I("updateTodo",t.value)},N=()=>{c.value?H():B()};return(a,e)=>(A(),U("div",G,[u("div",J,[e[3]||(e[3]=u("div",{class:"input_title"},"日期",-1)),n(s(p),{value:t.value.date,"onUpdate:modelValue":e[0]||(e[0]=v=>t.value.date=v),"label-placement":"floating",fill:"outline",readonly:"",onClick:k},null,8,["value"]),n(s(g),{"is-open":r.value,"initial-breakpoint":.5,"handle-behavior":"cycle",onIonModalDidDismiss:h},{default:d(()=>[n(s(D),{class:"ion-padding"},{default:d(()=>[u("div",K,[n(s(T),{presentation:"date",value:l.value,onIonChange:y},null,8,["value"])])]),_:1})]),_:1},8,["is-open"])]),u("div",L,[e[4]||(e[4]=u("div",{class:"input_title"},"時間",-1)),n(s(p),{value:t.value.time,"onUpdate:modelValue":e[1]||(e[1]=v=>t.value.time=v),"label-placement":"floating",fill:"outline",readonly:"",onClick:C},null,8,["value"]),n(s(g),{"is-open":f.value,"initial-breakpoint":.3,"handle-behavior":"cycle",onIonModalDidDismiss:Y},{default:d(()=>[n(s(D),{class:"ion-padding"},{default:d(()=>[u("div",P,[n(s(T),{presentation:"time",value:i.value,onIonChange:x},null,8,["value"])])]),_:1})]),_:1},8,["is-open"])]),u("div",R,[e[5]||(e[5]=u("div",{class:"input_title"},"內容",-1)),n(s(p),{value:t.value.content,"onUpdate:modelValue":e[2]||(e[2]=v=>t.value.content=v),"label-placement":"floating",fill:"outline"},null,8,["value"])]),n(s(j),null,{default:d(()=>[n(s(E),{slot:"primary"},{default:d(()=>[n(s($),{fill:"solid",onClick:N},{default:d(()=>[Q(q(c.value?"更新":"新增"),1)]),_:1})]),_:1})]),_:1})]))}}),V=F(W,[["__scopeId","data-v-f16886f9"]]);export{V as I};
