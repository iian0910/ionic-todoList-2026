import{d as S,a4 as N,h as U,b as u,a as n,u as s,a5 as p,r,a6 as D,w as v,f as g,a7 as T,P as j,Q as E,a8 as $,j as P,t as Q,k as q,o as z}from"./index-ClO9UN7A.js";import{d as o}from"./dayjs.min-CxMP4GVf.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"ion-padding"},G={class:"ion-margin-bottom"},J={class:"ion-margin-top"},K={class:"ion-margin-bottom"},L={class:"ion-margin-top"},R={class:"ion-margin-bottom"},W=S({__name:"InfoInput",props:{editTodo:{}},emits:["addTodo","updateTodo"],setup(M,{emit:b}){const _=M,I=b,l=r(""),i=r(""),f=r(!1),c=r(!1),t=r({id:"",date:"",time:"",content:"",check:!1}),d=q(()=>{var a;return((a=_.editTodo)==null?void 0:a.id)!==""});N(()=>_.editTodo,a=>{if(d.value&&(t.value={id:a==null?void 0:a.id,date:a.date,time:a.time,content:a.content,check:a.check,iso8601:a.iso8601},a.date&&(l.value=o(a.date).format()),a.time)){const e="".concat(a.date," ").concat(a.time);i.value=o(e).format()}},{deep:!0,immediate:!0});const k=()=>{d.value?l.value=o(l.value).format():l.value=o(new Date).format(),t.value.iso8601=l.value,t.value.date=o(l.value).format("YYYY-MM-DD"),f.value=!0},h=()=>{f.value=!1,d.value?l.value=o(l.value).format():l.value=o(new Date).format()},C=()=>{d.value?i.value=o(i.value).format():i.value=o(new Date).format(),t.value.iso8601=i.value,t.value.time=o(i.value).format("HH:mm"),c.value=!0},Y=()=>{c.value=!1,d.value?i.value=o(i.value).format():i.value=o(new Date).format()},y=a=>{const e=a.detail.value;e&&(l.value=o(e).format(),t.value.iso8601=l.value,t.value.date=o(e).format("YYYY-MM-DD"))},x=a=>{const e=a.detail.value;e&&(i.value=o(e).format(),t.value.iso8601=i.value,t.value.time=o(e).format("HH:mm"))},B=()=>{I("addTodo",t.value),t.value={id:"",date:"",time:"",content:"",check:!1}},H=()=>{I("updateTodo",t.value)},O=()=>{d.value?H():B()};return(a,e)=>(z(),U("div",F,[u("div",G,[e[3]||(e[3]=u("div",{class:"input_title"},"日期",-1)),n(s(p),{value:t.value.date,"onUpdate:modelValue":e[0]||(e[0]=m=>t.value.date=m),"label-placement":"floating",fill:"outline",readonly:"",onClick:k},null,8,["value"]),n(s(D),{"is-open":f.value,"initial-breakpoint":.5,"handle-behavior":"cycle",onIonModalDidDismiss:h},{default:v(()=>[n(s(g),{class:"ion-padding"},{default:v(()=>[u("div",J,[n(s(T),{presentation:"date",value:l.value,onIonChange:y},null,8,["value"])])]),_:1})]),_:1},8,["is-open"])]),u("div",K,[e[4]||(e[4]=u("div",{class:"input_title"},"時間",-1)),n(s(p),{value:t.value.time,"onUpdate:modelValue":e[1]||(e[1]=m=>t.value.time=m),"label-placement":"floating",fill:"outline",readonly:"",onClick:C},null,8,["value"]),n(s(D),{"is-open":c.value,"initial-breakpoint":.3,"handle-behavior":"cycle",onIonModalDidDismiss:Y},{default:v(()=>[n(s(g),{class:"ion-padding"},{default:v(()=>[u("div",L,[n(s(T),{presentation:"time",value:i.value,onIonChange:x},null,8,["value"])])]),_:1})]),_:1},8,["is-open"])]),u("div",R,[e[5]||(e[5]=u("div",{class:"input_title"},"內容",-1)),n(s(p),{value:t.value.content,"onUpdate:modelValue":e[2]||(e[2]=m=>t.value.content=m),"label-placement":"floating",fill:"outline"},null,8,["value"])]),n(s(j),null,{default:v(()=>[n(s(E),{slot:"primary"},{default:v(()=>[n(s($),{fill:"solid",onClick:O},{default:v(()=>[P(Q(d.value?"更新":"新增"),1)]),_:1})]),_:1})]),_:1})]))}}),V=A(W,[["__scopeId","data-v-c93faa7a"]]);export{V as I};
