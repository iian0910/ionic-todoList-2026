import{d as S,a4 as N,m as U,e as d,b as l,a as n,a5 as p,r,a6 as g,w as v,g as D,a7 as T,K as E,L as $,a8 as j,p as q,t as K,q as L,k as z,_ as A}from"./index-Dq5IbgG3.js";import{d as t}from"./dayjs.min-CxMP4GVf.js";const F={class:"ion-padding"},G={class:"ion-margin-bottom"},J={class:"ion-margin-top"},P={class:"ion-margin-bottom"},Q={class:"ion-margin-top"},R={class:"ion-margin-bottom"},W=S({__name:"InfoInput",props:{editTodo:{}},emits:["addTodo","updateTodo"],setup(M,{emit:b}){const _=M,I=b,i=r(""),s=r(""),c=r(!1),f=r(!1),o=r({id:"",date:"",time:"",content:"",check:!1}),u=L(()=>{var a;return((a=_.editTodo)==null?void 0:a.id)!==""});N(()=>_.editTodo,a=>{if(u.value&&(o.value={id:a==null?void 0:a.id,date:a.date,time:a.time,content:a.content,check:a.check},a.date&&(i.value=t(a.date).format()),a.time)){const e="".concat(a.date," ").concat(a.time);s.value=t(e).format()}},{deep:!0,immediate:!0});const k=()=>{u.value?i.value=t(i.value).format():i.value=t(new Date).format(),o.value.date=t(i.value).format("YYYY-MM-DD"),c.value=!0},h=()=>{c.value=!1,u.value?i.value=t(i.value).format():i.value=t(new Date).format()},C=()=>{u.value?s.value=t(s.value).format():s.value=t(new Date).format(),o.value.time=t(s.value).format("HH:mm"),f.value=!0},Y=()=>{f.value=!1,u.value?s.value=t(s.value).format():s.value=t(new Date).format()},y=a=>{const e=a.detail.value;e&&(i.value=t(e).format(),o.value.date=t(e).format("YYYY-MM-DD"))},x=a=>{const e=a.detail.value;e&&(s.value=t(e).format(),o.value.time=t(e).format("HH:mm"))},B=()=>{I("addTodo",o.value),o.value={id:"",date:"",time:"",content:"",check:!1}},H=()=>{I("updateTodo",o.value)},O=()=>{u.value?H():B()};return(a,e)=>(z(),U("div",F,[d("div",G,[e[3]||(e[3]=d("div",{class:"input_title"},"日期",-1)),l(n(p),{value:o.value.date,"onUpdate:modelValue":e[0]||(e[0]=m=>o.value.date=m),"label-placement":"floating",fill:"outline",readonly:"",onClick:k},null,8,["value"]),l(n(g),{"is-open":c.value,"initial-breakpoint":.5,"handle-behavior":"cycle",onIonModalDidDismiss:h},{default:v(()=>[l(n(D),{class:"ion-padding"},{default:v(()=>[d("div",J,[l(n(T),{presentation:"date",value:i.value,onIonChange:y},null,8,["value"])])]),_:1})]),_:1},8,["is-open"])]),d("div",P,[e[4]||(e[4]=d("div",{class:"input_title"},"時間",-1)),l(n(p),{value:o.value.time,"onUpdate:modelValue":e[1]||(e[1]=m=>o.value.time=m),"label-placement":"floating",fill:"outline",readonly:"",onClick:C},null,8,["value"]),l(n(g),{"is-open":f.value,"initial-breakpoint":.3,"handle-behavior":"cycle",onIonModalDidDismiss:Y},{default:v(()=>[l(n(D),{class:"ion-padding"},{default:v(()=>[d("div",Q,[l(n(T),{presentation:"time",value:s.value,onIonChange:x},null,8,["value"])])]),_:1})]),_:1},8,["is-open"])]),d("div",R,[e[5]||(e[5]=d("div",{class:"input_title"},"內容",-1)),l(n(p),{value:o.value.content,"onUpdate:modelValue":e[2]||(e[2]=m=>o.value.content=m),"label-placement":"floating",fill:"outline"},null,8,["value"])]),l(n(E),{class:"info-toolbar"},{default:v(()=>[l(n($),{slot:"primary"},{default:v(()=>[l(n(j),{fill:"solid",onClick:O},{default:v(()=>[q(K(u.value?"更新":"新增"),1)]),_:1})]),_:1})]),_:1})]))}}),w=A(W,[["__scopeId","data-v-7268802e"]]);export{w as I};
