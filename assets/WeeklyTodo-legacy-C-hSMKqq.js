System.register(["./index-legacy-6pe8m5Sa.js","./vue-virtual-scroller.esm-legacy-DlB1WCxB.js"],function(e,t){"use strict";var a,n,i,c,d,l,o,s,r,u,p,g,v,m,f,_,y,h,x,b,k,w,C,j,z,D,I,L,S,T,$,A,E,U,W,q,B,F,G;return{setters:[e=>{a=e.d,n=e.u,i=e.A,c=e.r,d=e.c,l=e.w,o=e.a,s=e.I,r=e.o,u=e.B,p=e.C,g=e.D,v=e.b,m=e.H,f=e.J,_=e.f,y=e.a0,h=e.K,x=e.p,b=e.N,k=e.m,w=e.e,C=e.n,j=e.G,z=e.t,D=e.R,I=e.U,L=e.V,S=e.W,T=e.X,$=e.g,A=e.Y,E=e.Z,U=e.j,W=e.$,q=e.k,B=e._},e=>{F=e.s,G=e.a}],execute:function(){var t=document.createElement("style");t.textContent='@charset "UTF-8";.icon_area[data-v-9b2d114b]{width:48px;height:48px}.icon_area_img[data-v-9b2d114b]{padding:8px}.page_title[data-v-9b2d114b]{text-align:center}.card-wrapper[data-v-9b2d114b]{padding:2px 0}.no_data[data-v-9b2d114b]{height:100%}.empty_status[data-v-9b2d114b]{width:250px;height:250px;margin:0 auto;color:#d7d7d7}.empty_title[data-v-9b2d114b]{font-size:24px;text-align:center}\n/*$vite$:1*/',document.head.appendChild(t);const H={class:"card-wrapper"},J={class:"ion-display-flex ion-align-items-center"},K={class:"ion-display-flex ion-justify-content-between ion-align-items-center"},N={class:"ion-display-flex ion-justify-content-end"},O={key:1,class:"ion-display-flex ion-flex-column ion-justify-content-center ion-align-items-center no_data"};e("default",B(a({__name:"WeeklyTodo",setup(e){const t=n(),a=U(),B=c([]),R=c([]),V=async e=>{const a=t.uid;if(a){for(const t of e)(await u(p(g,"todoList",a,t))).forEach(e=>{R.value.push({id:e.data().id,date:e.data().date,time:e.data().time,content:e.data().content,check:e.data().check})});console.log("result =>",R.value)}else r("請先登入","danger")},X=()=>{a.push({name:"home"})};return i(()=>{var e;B.value=(e=new Date,Array.from({length:7},(t,a)=>{const n=new Date(e);return n.setDate(n.getDate()+a),n.toISOString().slice(0,10)})),V(B.value)}),(e,n)=>{const i=C("ion-card-title"),c=C("ion-card-header"),u=C("ion-text"),p=C("ion-card-content"),U=C("ion-card");return q(),d(o(s),null,{default:l(()=>[v(o(b),{class:"ion-no-border"},{default:l(()=>[v(o(m),{class:"ion-toolbar"},{default:l(()=>[v(o(f),{slot:"start",class:"icon_area",onClick:X},{default:l(()=>[v(o(_),{class:"icon_area_img","aria-hidden":"true",size:"large",icon:o(y)},null,8,["icon"])]),_:1}),v(o(h),{class:"page_title"},{default:l(()=>[...n[0]||(n[0]=[x("一周計畫",-1)])]),_:1}),v(o(f),{slot:"end",class:"icon_area"})]),_:1})]),_:1}),v(o($),{fullscreen:!0,class:"page-content"},{default:l(()=>[R.value.length?(q(),d(o(F),{key:0,class:"scroller",items:R.value,"min-item-size":200},{default:l(({item:e,index:n,active:s})=>[v(o(G),{item:e,active:s,"size-dependencies":[e.content],"data-index":n},{default:l(()=>[w("div",H,[v(U,{class:"ion-padding"},{default:l(()=>[v(c,{class:"ion-no-padding ion-padding-vertical"},{default:l(()=>[w("div",J,[v(i,null,{default:l(()=>[x(z(e.content),1)]),_:2},1024),e.check?(q(),d(o(_),{key:0,class:"pl-2",color:"primary",icon:o(D)},null,8,["icon"])):j("",!0)])]),_:2},1024),v(p,{class:"ion-no-padding"},{default:l(()=>[w("div",K,[w("div",null,[v(u,null,{default:l(()=>[x(z(e.date)+" "+z(e.time),1)]),_:2},1024)]),w("div",N,[e.check?j("",!0):(q(),d(o(_),{key:0,color:"primary",icon:o(I),onClick:t=>{return n=e.date,i=e.id,void a.push({name:"editTodo",params:{id:i},query:{date:n}});var n,i}},null,8,["icon","onClick"])),e.check?j("",!0):(q(),d(o(_),{key:1,color:"success",icon:o(L),onClick:a=>(async e=>{const a=t.uid;if(!a)return void r("請先登入","danger");const n=E(g,"todoList",a,e.date,e.id);try{await W(n,{check:!0}),r("更新成功","success")}catch(i){r(i,"danger")}V(B.value)})(e)},null,8,["icon","onClick"])),v(o(_),{color:"danger",icon:o(S),onClick:a=>(async e=>{const a=t.uid;if(a){try{await A(E(g,"todoList",a,e.date,e.id)),r("刪除成功","success")}catch(n){r(n,"danger")}V(B.value)}else r("請先登入","danger")})(e)},null,8,["icon","onClick"])])])]),_:2},1024)]),_:2},1024)])]),_:2},1032,["item","active","size-dependencies","data-index"])]),_:1},8,["items"])):(q(),k("div",O,[v(o(_),{icon:o(T),class:"empty_status"},null,8,["icon"]),n[1]||(n[1]=w("div",{class:"empty_title"},"目前尚無資料...",-1))]))]),_:1})]),_:1})}}}),[["__scopeId","data-v-9b2d114b"]]))}}});
