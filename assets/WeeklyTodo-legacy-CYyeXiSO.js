System.register(["./index-legacy-D_NWB0j9.js","./vue-virtual-scroller.esm-legacy-0HboIC9l.js"],function(e,t){"use strict";var a,n,i,c,d,l,o,s,r,u,p,g,v,m,f,_,y,h,x,b,k,w,C,j,z,D,L,T,I,S,$,A,E,W,q,B,F,J,K;return{setters:[e=>{a=e.d,n=e.u,i=e.A,c=e.r,d=e.c,l=e.w,o=e.a,s=e.I,r=e.o,u=e.B,p=e.C,g=e.D,v=e.b,m=e.K,f=e.L,_=e.f,y=e.a2,h=e.M,x=e.p,b=e.P,k=e.m,w=e.e,C=e.n,j=e.J,z=e.t,D=e.T,L=e.W,T=e.X,I=e.Y,S=e.Z,$=e.g,A=e.$,E=e.a0,W=e.j,q=e.a1,B=e.k,F=e._},e=>{J=e.s,K=e.a}],execute:function(){var t=document.createElement("style");t.textContent='@charset "UTF-8";.icon_area[data-v-9b2d114b]{width:48px;height:48px}.icon_area_img[data-v-9b2d114b]{padding:8px}.page_title[data-v-9b2d114b]{text-align:center}.card-wrapper[data-v-9b2d114b]{padding:2px 0}.no_data[data-v-9b2d114b]{height:100%}.empty_status[data-v-9b2d114b]{width:250px;height:250px;margin:0 auto;color:#d7d7d7}.empty_title[data-v-9b2d114b]{font-size:24px;text-align:center}\n/*$vite$:1*/',document.head.appendChild(t);const M={class:"card-wrapper"},O={class:"ion-display-flex ion-align-items-center"},P={class:"ion-display-flex ion-justify-content-between ion-align-items-center"},U={class:"ion-display-flex ion-justify-content-end"},X={key:1,class:"ion-display-flex ion-flex-column ion-justify-content-center ion-align-items-center no_data"};e("default",F(a({__name:"WeeklyTodo",setup(e){const t=n(),a=W(),F=c([]),Y=c([]),Z=async e=>{const a=t.uid;if(a){for(const t of e)(await u(p(g,"todoList",a,t))).forEach(e=>{Y.value.push({id:e.data().id,date:e.data().date,time:e.data().time,content:e.data().content,check:e.data().check})});console.log("result =>",Y.value)}else r("請先登入","danger")},G=()=>{a.push({name:"home"})};return i(()=>{var e;F.value=(e=new Date,Array.from({length:7},(t,a)=>{const n=new Date(e);return n.setDate(n.getDate()+a),n.toISOString().slice(0,10)})),Z(F.value)}),(e,n)=>{const i=C("ion-card-title"),c=C("ion-card-header"),u=C("ion-text"),p=C("ion-card-content"),W=C("ion-card");return B(),d(o(s),null,{default:l(()=>[v(o(b),{class:"ion-no-border"},{default:l(()=>[v(o(m),{class:"ion-toolbar"},{default:l(()=>[v(o(f),{slot:"start",class:"icon_area",onClick:G},{default:l(()=>[v(o(_),{class:"icon_area_img","aria-hidden":"true",size:"large",icon:o(y)},null,8,["icon"])]),_:1}),v(o(h),{class:"page_title"},{default:l(()=>[...n[0]||(n[0]=[x("一周計畫",-1)])]),_:1}),v(o(f),{slot:"end",class:"icon_area"})]),_:1})]),_:1}),v(o($),{fullscreen:!0,class:"page-content"},{default:l(()=>[Y.value.length?(B(),d(o(J),{key:0,class:"scroller",items:Y.value,"min-item-size":200},{default:l(({item:e,index:n,active:s})=>[v(o(K),{item:e,active:s,"size-dependencies":[e.content],"data-index":n},{default:l(()=>[w("div",M,[v(W,{class:"ion-padding"},{default:l(()=>[v(c,{class:"ion-no-padding ion-padding-vertical"},{default:l(()=>[w("div",O,[v(i,null,{default:l(()=>[x(z(e.content),1)]),_:2},1024),e.check?(B(),d(o(_),{key:0,class:"pl-2",color:"primary",icon:o(D)},null,8,["icon"])):j("",!0)])]),_:2},1024),v(p,{class:"ion-no-padding"},{default:l(()=>[w("div",P,[w("div",null,[v(u,null,{default:l(()=>[x(z(e.date)+" "+z(e.time),1)]),_:2},1024)]),w("div",U,[e.check?j("",!0):(B(),d(o(_),{key:0,color:"primary",icon:o(L),onClick:t=>{return n=e.date,i=e.id,void a.push({name:"editTodo",params:{id:i},query:{date:n}});var n,i}},null,8,["icon","onClick"])),e.check?j("",!0):(B(),d(o(_),{key:1,color:"success",icon:o(T),onClick:a=>(async e=>{const a=t.uid;if(!a)return void r("請先登入","danger");const n=E(g,"todoList",a,e.date,e.id);try{await q(n,{check:!0}),r("更新成功","success")}catch(i){r(i,"danger")}Z(F.value)})(e)},null,8,["icon","onClick"])),v(o(_),{color:"danger",icon:o(I),onClick:a=>(async e=>{const a=t.uid;if(a){try{await A(E(g,"todoList",a,e.date,e.id)),r("刪除成功","success")}catch(n){r(n,"danger")}Z(F.value)}else r("請先登入","danger")})(e)},null,8,["icon","onClick"])])])]),_:2},1024)]),_:2},1024)])]),_:2},1032,["item","active","size-dependencies","data-index"])]),_:1},8,["items"])):(B(),k("div",X,[v(o(_),{icon:o(S),class:"empty_status"},null,8,["icon"]),n[1]||(n[1]=w("div",{class:"empty_title"},"目前尚無資料...",-1))]))]),_:1})]),_:1})}}}),[["__scopeId","data-v-9b2d114b"]]))}}});
